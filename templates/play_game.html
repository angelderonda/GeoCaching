{% extends 'base.html' %}

{% block content %}


<div class="row">
   <div class="col-md-4">
      <table class="table" style="width:100%">
         <thead>
            <tr>
               <th style="width:50%">Hint</th>
            </tr>
         </thead>
         <tbody>           
            {% for cache in cachesGame %}
               {% set found = false %}
               {% for found_cache in cachesFound %}
                  {% if found_cache.name == cache.name %}
                     {% set found = true %}
                  {% endif %}
               {% endfor %}
               {{found}}
               {% if found %}
                  <tr>
                     <td><s>{{cache.hint}}</s></td>
                  </tr>
               {% else %}
                  <tr>
                     <td>{{cache.hint}}</td>
                  </tr>     
               {% endif %} 
         {% endfor %}
        </tbody>
      </table>
   </div>
   <div class="col-md-4">
      <div class="form-group">
         <form action="/upload-image" method="post" enctype="multipart/form-data">
            <label for="cache-name">Cache Name:</label>
            <input type="text" id="cache-name" name="cache-name" placeholder="Enter cache name">
            <br>
            <label for="cache-image">Upload Cache Image:</label>
            <input type="file" id="cache-image" name="cache-image">
            <input type="hidden" name="game_id" value="{{game._id}}">
            <br>
            <input type="submit" value="Upload">
         </form>
      </div>
   </div>
</div>
<div class="row">
   <div class="col-md-12">
      <script>var localizacion = "{{localizacion}}";var zoom = '{{game.zoom}}';var marks = '{{cachesFound|tojson}}';console.log(marks);</script>
      <div id="mapaJuego" style="height: 400px;width: 100%;"></div>
   </div>
</div>
<script src="static/mapaJuego.js"></script>

{% endblock %}